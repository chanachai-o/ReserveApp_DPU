<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block mb-1 font-semibold">สถานะ</label>
      <select formControlName="status" class="form-control w-full">
        <option value="pending">รอดำเนินการ</option>
        <option value="preparing">กำลังทำ</option>
        <option value="cooked">ปรุงเสร็จ</option>
        <option value="served">เสิร์ฟแล้ว</option>
      </select>
    </div>
    <div>
      <label class="block mb-1 font-semibold">เลขโต๊ะ / ห้อง</label>
      <input type="text" class="form-control w-full" [value]="reservationId" disabled />
    </div>
  </div>
  <div>
    <label class="block mb-1 font-semibold">รายการอาหาร</label>
    <div formArrayName="items" *ngFor="let item of items.controls; let i = index;">
      <div [formGroupName]="i" class="flex items-center gap-2 mb-2">
        <select formControlName="menu_id" class="form-control">
          <option [ngValue]="null">-- เลือกเมนู --</option>
          <option *ngFor="let menu of menuList" [ngValue]="menu.id">{{menu.name}} ({{menu.price}}฿)</option>
        </select>
        <input type="number" formControlName="quantity" min="1" class="form-control w-20" />
        <button type="button" class="ti-btn ti-btn-danger ti-btn-sm" (click)="removeItem(i)" *ngIf="items.length>1">ลบ</button>
      </div>
    </div>
    <button type="button" class="ti-btn ti-btn-primary ti-btn-xs mt-2" (click)="addItem()">+ เพิ่มเมนู</button>
  </div>
  <div class="mt-4 flex gap-2">
    <button type="submit" class="ti-btn ti-btn-success" data-hs-overlay="#add-order">ยืนยันการสั่งอาหาร</button>
    <button type="button" class="ti-btn ti-btn-light" (click)="form.reset()">ล้างข้อมูล</button>
  </div>
</form>
